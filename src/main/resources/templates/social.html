<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="header :: header">

<title>World Visa | Social Contacts</title>
<!-- End page Label Plugins -->
</head>
<body>
	<div class="wrapper animsition">
		<!-- main header -->
		<div th:switch="${user.role}">
			<header th:case="ADMIN" class="main-header" th:include="navbanner :: navbanner"></header>
			<header th:case="EMPLOYEE" class="main-header" th:include="empbanner :: empbanner"></header>
		</div>
		<!-- /.content-wrapper -->
		<div class="content-wrapper">
			<div class="container">
				<!-- main content -->
				<div class="content">
					<div class="content">
						<!-- Content Header (Page header) -->

						<!-- /. Content Header (Page header) -->
						<div class="row">
							<div class="col-sm-12">
							
								<div  class="panel panel-bd lobidrag">
                                    <div class="panel-heading">
                                        <div class="col-sm-10">
										<div class="panel-title">
											<h4>
												<i class="pe-7s-note2"></i>User Group List
											</h4>
										</div>
									</div>
									<div class="col-sm-2" style="float: right">
										<div class="panel-title">
<a th:href="@{/social/all}">All</a> | <a th:href="@{/social/google}">Google</a> | <a th:href="@{/social/zoho}">Zoho</a> 
											


										</div>
									</div>
                                    </div>
                                    <div class="panel-body">                                                                       
                                         <div class="table-responsive">
                                            <table id="dataTableExample2" class="table table-bordered table-striped table-hover">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>ContactNo</th>
                                                         <th>Email</th>
                                                         <th>Age</th>
                                                         <th>Field Of Interest</th>                                                          
                                                        <th>Desired Countries</th>
														 <th>Preferred Calling Time</th>
														<!--<th>Current Annual Salary</th> 
														<th>Industry</th>   
														<th>Status</th>
														<th>Source</th>
														<th>Received</th>
														<th>Notes</th> -->                                                 
														<th>Follow Up History</th> 
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr th:each="var : ${contactList}">                                                    
														<td th:text="${var.name}"></td> 
                                                        <td  th:text="${var.mobile != null} ? ${#numbers.formatDecimal(var.mobile,0,0)} : '0'"></td>
                                                        <td  th:text="${var.email}"></td> 
														<td th:text="${var.age}"></td>
														<td th:text="${var.fieldOfInterest}"></td>
														<td th:text="${var.desiredCountries}"></td>
														<td th:text="${var.preferredTimeToCall}"></td>
														<!--<td th:text="${var.currentAnnualSalary}"></td>
														<td th:text="${var.industry}"></td>
														<td th:text="${var.status}"></td>
														<td th:text="${var.source}"></td>
														<td th:text="${var.received}"></td>
														<td th:text="${var.notes}"></td> -->
                                                        <td><button class="btn notify" data-toggle="modal"
															data-target="#modal-followup" id="follow-up" th:value="${var.name}">
															<i class="material-icons"></i>Add
														</button> 
														<form method="post" th:action="@{/getfollowUp}"><button type="submit" class="btn notify" data-toggle="modal"
															data-target="#modal-followupview" id="follow-up" name="follow-up" th:value="${var.name}">
															<i class="material-icons"></i>View
														</button></form></td>
                                                    </tr>
										        </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
							</div>
						</div>
						<div class="modal fade" id="modal-followup" tabindex="-1"
								role="dialog">
								<div class="modal-dialog modal-lg" role="document">
									<div class="modal-content">
										<div class="modal-header">
											<button type="button" class="close" data-dismiss="modal"
												aria-label="Close">
												<span aria-hidden="true">&times;</span>
											</button>
											<h1 class="modal-title">Follow Up</h1>
										</div>
										<form id="lang-prof-form" class="form" th:action="@{/followUp}" th:object="${follow}" method="post">
										<div class="modal-body">											
												<div class="form-group">
													<label >For*</label> <input class="form-control" th:field="${follow.contactName}" id="for" type="text" readonly="readonly"/>
												</div>
												<div class="form-group">
													<label >FollowUp Message*</label><textarea class="form-control" th:field="${follow.message}"></textarea> 
												</div>											
										</div>
										<div class="modal-footer">
											<button type="button" class="btn btn-danger"
												data-dismiss="modal">Close</button>
											<button type="submit" class="btn btn-success"
												id="lang-prof-submit">Add</button>
										</div>
										</form>
									</div>
									<!-- /.modal-content -->
								</div>
								<!-- /.modal-dialog -->
							</div>
							
					</div>


				</div>
				<!-- /.main content -->
			</div>
			<!-- /.container -->
		</div>
		<!-- /.content-wrapper -->
		<!-- start footer -->
		<footer class="main-footer">
			<div class="container">
				<div class="pull-right hidden-xs">
					<b>Version</b> 1.0
				</div>
				<strong>&copy; 2018 <a href="#">World Visa</a></strong> | All rights
				reserved. 
			</div>
		</footer>
		<!-- /. footer -->
	</div>
	<!-- ./wrapper -->
	<!-- jQuery -->
	<script src="/assets/plugins/jQuery/jquery-1.12.4.min.js"
		type="text/javascript"></script>
	<!-- jquery-ui -->
	<script src="/assets/plugins/jquery-ui-1.12.1/jquery-ui.min.js"
		type="text/javascript"></script>
	<!-- Bootstrap js -->
	<script src="/assets/bootstrap/js/bootstrap.min.js"
		type="text/javascript"></script>
	<!-- lobipanel js -->
	<script src="/assets/plugins/lobipanel/lobipanel.min.js"
		type="text/javascript"></script>
	<!-- animsition js -->
	<script src="/assets/plugins/animsition/js/animsition.min.js"
		type="text/javascript"></script>
	<!-- bootsnav js -->
	<script src="/assets/plugins/bootsnav/js/bootsnav.js"
		type="text/javascript"></script>
	<!-- SlimScroll js -->
	<script src="/assets/plugins/slimScroll/jquery.slimscroll.min.js"
		type="text/javascript"></script>
	<!-- FastClick js-->
	<script src="/assets/plugins/fastclick/fastclick.min.js"
		type="text/javascript"></script>
	<!-- End Core Plugins
        =====================================================================-->
	<!-- Start Page Lavel Plugins
        =====================================================================-->

	<!-- dataTables js -->
	<script src="/assets/datatables/dataTables.min.js"
		type="text/javascript"></script>
	<!-- Start Theme label Script
        =====================================================================-->
	<!-- Dashboard js -->
	<script th:src="@{/assets/dist/js/dashboard.js}" type="text/javascript"></script>
	<!-- End Theme label Script
        =====================================================================-->
	<script type="text/javascript">
		$(document)
				.ready(
						function() {

							"use strict"; // Start of use strict
							
							

							$("#dataTableExample2")
									.DataTable(
											{
												dom : "<'row'<'col-sm-5'l><'col-sm-3 text-center'B><'col-sm-4'f>>tp",
												"lengthMenu" : [
														[ 10, 25, 50, -1 ],
														[ 10, 25, 50, "All" ] ],
												buttons : [ {
												    extend : 'excel',
													title : 'Worldvisa_Report',
													className : 'btn-sm'
												}, {
													extend : 'pdf',
													title : 'Worldvisa_Report',
													className : 'btn-sm'
												}, {
													extend : 'print',
													className : 'btn-sm'
												} ]
											});

						});
		$(document).on("click", "#follow-up", function () {
		     var name = $(this).val();
		     $("#for").val( name );
		    $('#modal-notify').modal('show');
		});
	</script>
	
</body>
</html>